<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body { 
            margin: 0; 
            background: black;
        }
        #status {
            position: fixed;
            top: 10px;
            left: 10px;
            color: white;
            background: rgba(0,0,0,0.5);
            padding: 5px;
            z-index: 1000;
        }
        video {
            width: 100vw;
            height: 100vh;
            object-fit: cover;
        }
    </style>
</head>
<body>
    <div id="status">Initializing...</div>
    <video id="camera" autoplay muted playsinline></video>
    <button onclick="startCamera()" style="position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); padding: 10px;">Start Camera</button>
    <script>
        const status = document.getElementById('status');
        const video = document.getElementById('camera');

        function logStatus(msg) {
            status.textContent = msg;
            console.log(msg);
        }

        async function startCamera() {
            try {
                logStatus('Requesting camera...');
                
                const stream = await navigator.mediaDevices.getUserMedia({
                    video: true,  // Simplified request
                    audio: false
                });
                
                logStatus('Got camera stream');
                video.srcObject = stream;
                
                // Wait for video to be ready
                await video.play();
                logStatus('Camera active');
                
            } catch (err) {
                logStatus('Error: ' + err.name + ' - ' + err.message);
            }
        }
    </script>
</body>
</html>